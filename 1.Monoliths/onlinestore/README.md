# Flask Online Shop - Monolithic E-commerce Application

Note: Generated by Claude AI, 2025-Dec-06

A complete monolithic Flask application for an online shop with frontend store and backend management components.

## Features

### Frontend Store
- **Product Catalog**: Browse products by category, search functionality
- **Shopping Cart**: Add/remove items, update quantities
- **User Authentication**: Registration, login, logout
- **Checkout Process**: Complete order placement with shipping/billing info
- **Order History**: View past orders and their status
- **Responsive Design**: Bootstrap-based UI that works on all devices

### Backend Management (Admin Panel)
- **Dashboard**: Overview statistics and recent orders
- **Product Management**: Add, edit, view all products
- **Category Management**: Organize products into categories
- **Order Management**: View and update order status
- **Stock Control**: Track inventory, add stock, view stock movements
- **User Management**: Admin and customer accounts

### Technical Architecture
- **Monolithic Design**: Single Flask application (easily separable into microservices)
- **Service Layer**: Business logic organized into service classes for future microservice separation
- **Database**: SQLite with SQLAlchemy ORM (easily replaceable with PostgreSQL)
- **API Endpoints**: RESTful APIs for future integration
- **Security**: Password hashing, session management, admin access control

## Installation & Setup

### Prerequisites
- Python 3.7+
- pip (Python package manager)

### Installation Steps

1. **Install Dependencies**
   ```bash
   pip install flask flask-sqlalchemy flask-wtf wtforms flask-login werkzeug
   ```

2. **Run the Application**
   ```bash
   python app.py
   ```

3. **Access the Application**
   - Frontend Store: http://localhost:5000
   - Admin Panel: http://localhost:5000/admin (login as admin first)

## Default Accounts

### Admin Account
- **Username**: admin
- **Password**: admin123
- **Access**: Full admin panel access

### Customer Account
- **Username**: customer  
- **Password**: customer123
- **Access**: Shopping and order management

## Database Schema

### Core Models
- **User**: Customer and admin accounts
- **Category**: Product categories
- **Product**: Product catalog with pricing and stock
- **CartItem**: Shopping cart functionality
- **Order**: Order management
- **OrderItem**: Individual items in orders
- **StockMovement**: Inventory tracking

### Key Relationships
- Users have multiple Orders and CartItems
- Products belong to Categories
- Orders contain multiple OrderItems
- StockMovements track Product inventory changes

## Service Architecture (Microservice-Ready)

### CatalogService
- Product browsing and search
- Category management
- Product availability checking

### StockService  
- Inventory management
- Stock reservations
- Stock movement tracking

### CartService
- Shopping cart operations
- Cart persistence
- Cart calculations

### BillingService
- Order creation and management
- Payment processing integration
- Order status updates

## API Endpoints

### Public APIs
- `GET /api/products` - List all products
- `GET /api/stock/<product_id>` - Check product stock

### Future Microservice Integration
The service classes are designed to be easily extracted into separate microservices:
- Each service has clear boundaries and responsibilities
- Database models can be distributed across services
- API endpoints provide integration points

## Database Migration to PostgreSQL

To switch from SQLite to PostgreSQL:

1. **Install PostgreSQL driver**
   ```bash
   pip install psycopg2-binary
   ```

2. **Update database URI in app.py**
   ```python
   app.config['SQLALCHEMY_DATABASE_URI'] = 'postgresql://username:password@localhost/shop_db'
   ```

3. **Create PostgreSQL database**
   ```sql
   CREATE DATABASE shop_db;
   ```

## File Structure

```
onlinestore/
├── app.py          # Main Flask application
├── instances/online_shop.db          # SQLite database (auto-generated)
├── templates/              # HTML templates
│   ├── base.html          # Base template
│   ├── index.html         # Homepage
│   ├── products.html      # Product listing
│   ├── product_detail.html # Product details
│   ├── cart.html          # Shopping cart
│   ├── checkout.html      # Checkout process
│   ├── login.html         # User login
│   ├── register.html      # User registration
│   ├── order_confirmation.html # Order success
│   ├── my_orders.html     # Order history
│   └── admin/             # Admin templates
│       ├── dashboard.html
│       ├── products.html
│       ├── product_form.html
│       ├── categories.html
│       ├── category_form.html
│       ├── orders.html
│       ├── order_detail.html
│       └── stock.html
└── README.md              # This file
```

## Key Features for Production

### Security
- Password hashing with Werkzeug
- Session-based authentication
- Admin access control
- CSRF protection with Flask-WTF

### Scalability
- Service-oriented architecture
- Modular design for microservice extraction
- Database abstraction layer
- API-first approach

### Inventory Management
- Real-time stock tracking
- Stock reservation system
- Inventory movement logging
- Low stock alerts

### Order Management
- Complete order lifecycle
- Status tracking
- Payment method support
- Order history

## Development Notes

### Adding New Features
1. **New Models**: Add to database models section
2. **Business Logic**: Implement in appropriate service class
3. **Routes**: Add Flask routes for web interface
4. **Templates**: Create corresponding HTML templates
5. **APIs**: Add API endpoints for external integration

### Microservice Migration
When ready to split into microservices:
1. Extract service classes into separate applications
2. Replace direct database calls with API calls
3. Implement service discovery and communication
4. Add distributed transaction handling if needed

## Sample Data

The application initializes with:
- 2 user accounts (admin and customer)
- 4 product categories (Electronics, Clothing, Books, Home & Garden)
- 6 sample products with stock
- Ready-to-use shopping experience

## Support

For issues or questions:
1. Check the Flask documentation: https://flask.palletsprojects.com/
2. Review SQLAlchemy docs: https://docs.sqlalchemy.org/
3. Bootstrap UI framework: https://getbootstrap.com/

## License

This is a demonstration application. Modify and use as needed for your projects.
